#include "main.h"

static int tempVoltageRelation[81][2] = { 
	{ -20, 13099 },
	{ -19, 12794 },
	{ -18, 12492 },
	{ -17, 12191 },
	{ -16, 11893 },
	{ -15, 11597 },
	{ -14, 11305 },
	{ -13, 11015 },
	{ -12, 10729 },
	{ -11, 10447 },
	{ -10, 10168 },
	{ -9, 9893 },
	{ -8, 9622 },
	{ -7, 9355 },
	{ -6, 9093 },
	{ -5, 8836 },
	{ -4, 8584 },
	{ -3, 8337 },
	{ -2, 8095 },
	{ -1, 7858 },
	{ 0, 7627 },
	{ 1, 7402 },
	{ 2, 7181 },
	{ 3, 6966 },
	{ 4, 6757 },
	{ 5, 6552 },
	{ 6, 6353 },
	{ 7, 6159 },
	{ 8, 5970 },
	{ 9, 5786 },
	{ 10, 5607 },
	{ 11, 5433 },
	{ 12, 5263 },
	{ 13, 5099 },
	{ 14, 4939 },
	{ 15, 4784 },
	{ 16, 4634 },
	{ 17, 4488 },
	{ 18, 4347 },
	{ 19, 4210 },
	{ 20, 4077 },
	{ 21, 3948 },
	{ 22, 3824 },
	{ 23, 3703 },
	{ 24, 3586 },
	{ 25, 3472 },
	{ 26, 3362 },
	{ 27, 3256 },
	{ 28, 3153 },
	{ 29, 3053 },
	{ 30, 2956 },
	{ 31, 2863 },
	{ 32, 2773 },
	{ 33, 2685 },
	{ 34, 2601 },
	{ 35, 2519 },
	{ 36, 2440 },
	{ 37, 2364 },
	{ 38, 2290 },
	{ 39, 2219 },
	{ 40, 2150 },
	{ 41, 2083 },
	{ 42, 2018 },
	{ 43, 1956 },
	{ 44, 1895 },
	{ 45, 1837 },
	{ 46, 1780 },
	{ 47, 1726 },
	{ 48, 1673 },
	{ 49, 1622 },
	{ 50, 1572 },
	{ 51, 1524 },
	{ 52, 1478 },
	{ 53, 1434 },
	{ 54, 1390 },
	{ 55, 1349 },
	{ 56, 1308 },
	{ 57, 1269 },
	{ 58, 1231 },
	{ 59, 1194 },
	{ 60, 1159 },
};
void cellCommand_send_CAN(bool activation, volatile int BMS_Balancing[][8]);

void gotBMSFrameVoltage(uint8_t u8CanNum);
void gotBMSFrameTemperature(uint8_t u8CanNum);